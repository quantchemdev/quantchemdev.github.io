// ============================================
// GRID SYSTEM
// Modern flexbox and CSS grid utilities
// ============================================

@use '../abstracts' as *;

// --------------------------------------------
// MODERN FLEXBOX ROW
// --------------------------------------------

.row {
  display: flex;
  flex-wrap: wrap;
  margin-left: -$gutter;

  > * {
    padding-left: $gutter;
  }

  &.flush > * {
    padding-left: 0;
  }

  @include clearfix;

  // Responsive: stack on mobile
  @include breakpoint-down(lg) {
    margin-left: 0;
    flex-direction: column;

    > * {
      padding-left: 0;
    }

    > [class*="u"] {
      width: 100% !important;
      float: none !important;
    }
  }
}

// --------------------------------------------
// CSS GRID CLASSES
// --------------------------------------------

.grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: $gutter;
}

.col-12 { grid-column: span 12; }
.col-11 { grid-column: span 11; }
.col-10 { grid-column: span 10; }
.col-9  { grid-column: span 9; }
.col-8  { grid-column: span 8; }
.col-7  { grid-column: span 7; }
.col-6  { grid-column: span 6; }
.col-5  { grid-column: span 5; }
.col-4  { grid-column: span 4; }
.col-3  { grid-column: span 3; }
.col-2  { grid-column: span 2; }
.col-1  { grid-column: span 1; }

// --------------------------------------------
// LEGACY SKEL GRID (for backward compatibility)
// --------------------------------------------

// Width classes
.\31 2u { width: 100%; }
.\31 1u { width: 91.6666666667%; }
.\31 0u { width: 83.3333333333%; }
.\39 u { width: 75%; }
.\38 u { width: 66.6666666667%; }
.\37 u { width: 58.3333333333%; }
.\36 u { width: 50%; }
.\35 u { width: 41.6666666667%; }
.\34 u { width: 33.3333333333%; }
.\33 u { width: 25%; }
.\32 u { width: 16.6666666667%; }
.\31 u { width: 8.3333333333%; }

// Offset classes
.\-11u { margin-left: 91.6666666667%; }
.\-10u { margin-left: 83.3333333333%; }
.\-9u { margin-left: 75%; }
.\-8u { margin-left: 66.6666666667%; }
.\-7u { margin-left: 58.3333333333%; }
.\-6u { margin-left: 50%; }
.\-5u { margin-left: 41.6666666667%; }
.\-4u { margin-left: 33.3333333333%; }
.\-3u { margin-left: 25%; }
.\-2u { margin-left: 16.6666666667%; }
.\-1u { margin-left: 8.3333333333%; }

// Legacy row styles
.row > * {
  float: left;
  background: no-repeat;
}

.row:first-child > * {
  padding-top: 0 !important;
}

// Normal gutter
.row > * {
  padding-left: $gutter-large;
  background: no-repeat;
}

.row + .row > * {
  padding: $gutter-large 0 0 $gutter-large;
}

.row {
  margin-left: -$gutter-large;
}

// Flush (no gutter)
.row.flush > * {
  padding-left: 0;
}

.row + .row.flush > * {
  padding: 0;
}

.row.flush {
  margin-left: 0;
}

// Quarter gutter
.row.quarter > * {
  padding-left: 10px;
}

.row + .row.quarter > * {
  padding: 10px 0 0 10px;
}

.row.quarter {
  margin-left: -10px;
}

// Half gutter
.row.half > * {
  padding-left: $gutter;
}

.row + .row.half > * {
  padding: $gutter 0 0 $gutter;
}

.row.half {
  margin-left: -$gutter;
}

// One and half gutter
.row.oneandhalf > * {
  padding-left: 60px;
}

.row + .row.oneandhalf > * {
  padding: 60px 0 0 60px;
}

.row.oneandhalf {
  margin-left: -60px;
}

// Double gutter
.row.double > * {
  padding-left: 80px;
}

.row + .row.double > * {
  padding: 80px 0 0 80px;
}

.row.double {
  margin-left: -80px;
}

// --------------------------------------------
// FLEX UTILITY GRIDS
// --------------------------------------------

.news-row {
  display: flex;
  flex-wrap: wrap;
  margin: 0 -15px;
}

.research-grid {
  display: flex;
  flex-wrap: wrap;
  margin: 0 -15px;
}

.footer-grid {
  display: flex;
  flex-wrap: wrap;
  margin-bottom: $spacing-xl;
  gap: $spacing-xl;

  @include breakpoint-down(md) {
    gap: $spacing-md;
  }
}
